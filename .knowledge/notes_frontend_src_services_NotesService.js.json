{"is_source_file": true, "format": "JavaScript", "description": "This file defines the NotesService class, which provides methods for managing notes data, including CRUD operations, persistence using localStorage, and search functionality, intended for use in a frontend application.", "external_files": ["window.localStorage", "process.env.REACT_APP_API_BASE", "crypto.randomUUID()", "JSON"], "external_methods": ["window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify", "Math.random", "Date.now()", "crypto.randomUUID"], "published": ["NotesService"], "classes": [{"name": "NotesService", "description": "A class providing an interface for managing notes, including CRUD operations, localStorage persistence, and optional backend integration via API base URL."}], "methods": [{"name": "constructor()", "description": "Initializes the NotesService instance, setting the API base URL from environment variables.", "scope": "NotesService", "scopeKind": "class"}, {"name": "_read()", "description": "Reads and parses notes from localStorage, returning an array of notes.", "scope": "NotesService", "scopeKind": "class"}, {"name": "persist(notes)", "description": "Persists the given notes array to localStorage.", "scope": "NotesService", "scopeKind": "class"}, {"name": "listNotes()", "description": "Returns all notes sorted with newest first; fetches from backend if API base URL is configured.", "scope": "NotesService", "scopeKind": "class"}, {"name": "getNote(id)", "description": "Returns a single note by its ID, or null if not found.", "scope": "NotesService", "scopeKind": "class"}, {"name": "createNote({ title = '', body = '' })", "description": "Creates a new note with optional title and body, assigns a unique ID, and persists the updated list.", "scope": "NotesService", "scopeKind": "class"}, {"name": "updateNote(id, { title = '', body = '' })", "description": "Updates an existing note identified by ID with new title and body, and persists the changes.", "scope": "NotesService", "scopeKind": "class"}, {"name": "deleteNote(id)", "description": "Deletes a note by ID and updates local storage.", "scope": "NotesService", "scopeKind": "class"}, {"name": "toggleFavorite(id)", "description": "Toggles the favorite status of a note identified by ID.", "scope": "NotesService", "scopeKind": "class"}, {"name": "search(query)", "description": "Filters notes by substring query in title or body, case-insensitive.", "scope": "NotesService", "scopeKind": "class"}], "calls": ["window.localStorage.getItem", "window.localStorage.setItem", "JSON.parse", "JSON.stringify", "crypto.randomUUID", "Date.now"], "search-terms": ["NotesService", "localStorage", "CRUD", "search", "notes management"], "state": 2, "file_id": 21, "knowledge_revision": 53, "git_revision": "24a54a6668738368b9c0633dc3c61af454366fac", "ctags": [{"_type": "tag", "name": "NotesService", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^export class NotesService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^const STORAGE_KEY = 'notes.v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "_read", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  _read() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  createNote({ title = '', body = '' }) {$/", "language": "JavaScript", "kind": "method", "signature": "({ title = '', body = '' })", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  deleteNote(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  getNote(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^      id: crypto.randomUUID ? crypto.randomUUID() : String(now) + Math.random().toString(36).sli/", "language": "JavaScript", "kind": "property", "scope": "NotesService.createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  listNotes() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^    const note = {$/", "language": "JavaScript", "kind": "class", "scope": "NotesService.createNote", "scopeKind": "class"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  persist(notes) {$/", "language": "JavaScript", "kind": "method", "signature": "(notes)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  search(query) {$/", "language": "JavaScript", "kind": "method", "signature": "(query)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "title", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^      title,$/", "language": "JavaScript", "kind": "field", "scope": "NotesService.createNote.note", "scopeKind": "class"}, {"_type": "tag", "name": "toggleFavorite", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  toggleFavorite(id) {$/", "language": "JavaScript", "kind": "method", "signature": "(id)", "scope": "NotesService", "scopeKind": "class"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/simple-notes-app-190809-190818/notes_frontend/src/services/NotesService.js", "pattern": "/^  updateNote(id, { title = '', body = '' }) {$/", "language": "JavaScript", "kind": "method", "signature": "(id, { title = '', body = '' })", "scope": "NotesService", "scopeKind": "class"}], "hash": "b8baf5eac6781efaf98cd4c4432af22f", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/services/NotesService.js", "fields": [{"name": "id: crypto.randomUUID ? crypto.randomUUID() : String(now) + Math.random().toString(36).sli/", "scope": "NotesService.createNote.note", "scopeKind": "class", "description": "unavailable"}, {"name": "title,", "scope": "NotesService.createNote.note", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"53": "24a54a6668738368b9c0633dc3c61af454366fac"}]}